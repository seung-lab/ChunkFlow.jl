{"input": {
    "kind": "cutoutchunk",
    "params":{
        "bigArrayType": "gs",
        "origin":   [-15413, -6197, -3],
        "cutoutSize": [1152, 1152,  144],
        "offset":    [0,0,0],
        "voxelSize": [5,5,45],
        "nonzeroRatioThreshold": 0.01
    },
    "inputs": {
      "path": "gs://neuroglancer/zfish_v1/image/5_5_45/"
    },
    "outputs": {
        "data": "img"
    }
},
"input_aff": {
    "kind": "cutoutchunk",
    "params":{
        "bigArrayType": "s3",
        "origin":   [-15413, -6197, -3, 1],
        "cutoutSize": [1152, 1152,  144, 3],
        "offset":    [0,0,0,0],
        "voxelSize": [5,5,45],
        "nonzeroRatioThreshold": 0.01
    },
    "inputs": {
      "path": "s3://neuroglancer/zfish_v2/affinitymap/5_5_45/"
    },
    "outputs": {
        "data": "aff"
    }
},
"maskaff":{
    "kind": "maskaffinity",
    "params": {
        "threshold": 1
    },
    "inputs": {
        "img": "img",
        "aff": "aff"
    },
    "outputs": {
        "aff": "aff"
    }
},
"cropimg":{
    "kind": "crop",
    "params": {
        "cropMarginSize": [64, 64, 8]
    },
    "inputs":{
        "img": "img"
    },
    "outputs":{
        "img": "img"
    }
},
"watershed":{
    "kind": "atomicseg",
    "params": {
        "low": 0.006821,
        "high": 0.999996,
        "thresholds": [
            {
                "size": 800,
                "threshold": 0.04515
            }
        ],
        "dust": 600,
        "isThresholdRelative": false
    },
    "inputs": {
        "aff": "aff"
    },
    "outputs": {
        "seg": "seg"
    }
},
"agglomeration":{
    "kind":"agglomeration",
    "params":{
        "mode": "mean",
        "cropSegMarginSize": [64,64,8],
        "isDeleteAff": true
    },
    "inputs": {
        "seg": "seg",
        "aff": "aff"
    },
    "outputs": {
        "sgm": "sgm"
    }
},
"savesgm":{
    "kind": "savechunk",
    "params": {},
    "inputs": {
        "chunk": "sgm"
    },
    "outputs": {
        "prefix": "gs://zfish/all_7_fix_2/segmentation/chunk_"
    }
},
"hypersquare":{
    "kind": "hypersquare",
    "params":{
        "segment_id_type" : "UInt16",
        "affinity_type" : "Float32"
    },
    "inputs": {
        "img": "img",
        "sgm": "sgm"
    },
    "outputs": {
        "projectsDirectory": "gs://zfish/all_7_fix_2/hypersquare/"
    }
}
}
