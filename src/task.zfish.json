{"input": {
    "kind": "readh5",
    "params":{
        "origin": [],
        "voxelsize": [5,5,45],
        "dname": "img"
    },
    "inputs": {
        "fname": "s3://zfish/dodam_aligned_stacks/2x2x2_4/zebrafish_aligned_"
    },
    "outputs": {
        "data": "img"
    }
},
"znni":{
    "kind": "znni",
    "params":{
        "fznni": "/opt/ZNNi/code/bin/multiscale/znni_gpu",
        "fnet": "~/seungmount/research/kisuklee/Workbench/seung-lab/znn-release/experiments/zfish/MS/exp1/iter_100K/network/net_176000.h5",
        "outsz": [256, 256, 17],
        "fov": [109, 109, 9],
        "isexchangeaffxz": true
    },
    "inputs": {
        "img": "img"
    },
    "outputs": {
        "img": "img",
        "aff": "aff"
    }
},
"saveimg":{
    "kind": "savechk",
    "params":{
        "isdelete": true
    },
    "inputs":{
        "chunk": "img"
    },
    "outputs":{
        "fname": "/tmp/img.h5"
    }
},
"saveaff":{
    "kind": "savechk",
    "params":{
        "isdelete": false
    },
    "inputs":{
        "chunk": "aff"
    },
    "outputs": {
        "prefix": "~/seungmount/research/Jingpeng/14_zfish/2x2x2_4/chunk_"
    }
},
"watershed":{
    "kind": "atomicseg",
    "params": {
        "low": 0.1,
        "high": 0.8,
        "thresholds": [
            {
                "size": 800,
                "threshold": 0.2
            }
        ],
        "dust": 600,
        "is_relative_threshold": true
    },
    "inputs": {
        "aff": "aff"
    },
    "outputs": {
        "seg": "seg"
    }
},
"agglomeration":{
    "kind":"agglomeration",
    "params":{
        "mode": "mean",
        "isdeleteaff": true
    },
    "inputs": {
        "seg": "seg",
        "aff": "aff"
    },
    "outputs": {
        "sgm": "sgm"
    }
},
"savesgm":{
    "kind": "savechk",
    "params": {
        "isdelete": false
    },
    "inputs": {
        "chunk": "sgm"
    },
    "outputs": {
        "prefix": "~/seungmount/research/Jingpeng/14_zfish/2x2x2_4/chunk_"
    }
},
"savesgm":{
    "kind": "savechk",
    "params": {
        "isdelete": true
    },
    "inputs": {
        "chunk": "sgm"
    },
    "outputs": {
        "fname": "/tmp/sgm.h5"
    }
},
"omnification":{
    "kind": "omnification",
    "params":{
        "ombin": "/opt/omni"
    },
    "inputs": {
        "fimg": "/tmp/img.h5",
        "fsgm": "/tmp/sgm.h5"
    },
    "outputs": {
        "fprj": "/tmp/chunk_"
    }
},
"moveomniprj":{
    "kind": "movedata",
    "params": {},
    "inputs": {
        "prefix": "/tmp/chunk_"
    },
    "outputs": {
        "dir": "~/seungmount/research/Jingpeng/14_zfish/2x2x2_4/"
    }
}
}
